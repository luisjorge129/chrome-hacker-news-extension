var url="https://hacker-news.firebaseio.com/v0/";angular.module("hackerNewsApp",["ngAnimate"]).config(["$httpProvider",function(n){n.defaults.xsrfCookieName="csrftoken",n.defaults.xsrfHeaderName="X-CSRFToken"}]).run(["$window","$rootScope",function(n,e){e.online=navigator.onLine,n.addEventListener("offline",function(){e.$apply(function(){e.online=!1})},!1),n.addEventListener("online",function(){e.$apply(function(){e.online=!0})},!1)}]).filter("fromNow",function(){return function(n){return n?moment(1e3*n).fromNow():""}}).controller("hackerController",["$scope","$http",function(n,e){n.$watch("online",function(t){n.setLoading=function(e){n.isLoading=e,n.isDisabled=e},n.refresh=function(){n.setLoading(!0),n.listings=[],n.list=[],n.page=0,n.initialValue=0,n.endValue=30,n.moreButton=!0,e.get(url+"topstories.json").then(function(e){n.list=e.data,n.news(0)})},n.news=function(t){n.setLoading(!0),n.initialValue=30*t,n.endValue=30*(t+1),n.endValue>=n.list.length-1&&(n.endValue=n.list.length-1,n.moreButton=!1);for(var i=n.initialValue;i<n.endValue;i++)e.get(url+"item/"+n.list[i]+"/.json").then(function(e){n.listings.push(e.data)});n.setLoading(!1)},n.refresh()})}]);
